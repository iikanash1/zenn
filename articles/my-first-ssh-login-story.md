---
title: "【体験談】初めて仮想サーバーにログインした日！Windowsの黒い画面と格闘した話"
emoji: "👻"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["AWS", "EC2", "SSH", "Windows", "体験談"]
published: false
---

## はじめに

「クラウドってすごいらしい」「サーバーを自分で立ててみたい」

そんな漠然とした憧れから、私はAWSのEC2インスタンスという仮想サーバーを立ててみることにしました。インスタンス作成ボタンをポチッ。ここまでは順調でした。

しかし、次の瞬間、私は途方に暮れます。
「…で、どうやってこのサーバーに入るの？」

この記事は、そんなごく普通のWindowsユーザーだった私が、黒い画面（PowerShell）と格闘し、初めて仮想サーバーの世界に足を踏み入れた日の、ちょっとした冒険の記録です。

## 立ちはだかる「黒い画面」と「謎の呪文」

サーバーに接続するには「SSH」という方法を使うらしい。そして、Windowsには「PowerShell」という、あのハッカーが使ってそうな黒い画面（設定で白くもできます）が標準で入っているとのこと。

早速PowerShellを起動し、ネットで調べた「呪文」を打ち込んでみます。

```bash
ssh -i "my-key.pem" ec2-user@123.45.67.89
```

- `ssh`：接続するためのおまじない、らしい。
- `-i "my-key.pem"`：インスタンスを作った時にダウンロードした「キーペア」というファイル。サーバーに入るための「鍵」のようなものだとか。
- `ec2-user@123.45.67.89`：`ユーザー名@サーバーの住所（IPアドレス）` という構成。Amazon Linuxは`ec2-user`で入れるらしい。

なるほど、理屈はなんとなく分かった。いざ、Enterキーをターン！

## 早速のエラー！「無防備すぎる」と怒られる

すると、黒い画面に赤い文字が表示されました。エラーです。

```
Permissions for 'my-key.pem' are too open.
It is required that your private key files are NOT accessible by others.
```

「パーミッションが開かれすぎてる」「秘密鍵は他の人からアクセスできないようにしないとダメだよ」と、なんだか怒られているようです。

「鍵」なのだから、誰でも見られる状態じゃダメだ、ということらしい。なるほど、ごもっともです。

### 解決策：鍵に「自分だけ」の鍵をかける

調べてみると、Windowsでもファイルのアクセス権限を変更できることがわかりました。

1.  キーペアファイル（`my-key.pem`）を右クリック → 「プロパティ」
2.  「セキュリティ」タブ → 「詳細設定」
3.  所有者を自分にして、「継承の無効化」をクリック。
4.  自分以外のユーザー（SystemやAdministratorsなど）をすべて「削除」。

これで、このファイルは正真正銘「自分だけが見られるファイル」になりました。

## 再びの挑戦、そして…

気を取り直して、もう一度PowerShellで先ほどの呪文を唱えます。今度こそ…！

```bash
ssh -i "my-key.pem" ec2-user@123.45.67.89
```

すると、今度は違うメッセージが。

```
The authenticity of host '123.45.67.89' can't be established.
Are you sure you want to continue connecting (yes/no/[fingerprint])?
```

「このホスト、本当に信用できる？」と聞かれています。初めて接続する相手だから、念のための確認のようです。ここは迷わず `yes` と打ち込み、Enter！

次の瞬間、画面の表示がガラッと変わりました。

```
   ,     #_
   ~\_  ####_        Amazon Linux 2
  ~~  \_#####\
  ~~     \###|
  ~~       V~'    https://aws.amazon.com/amazon-linux-2/
         |~~
 _______/

[ec2-user@ip-172-31-25-10 ~]$ 
```

**…ログインできた！！**

自分のPCのプロンプト（`PS C:\Users\...>`）が、サーバーのプロンプト（`[ec2-user@...]$`）に変わっています。これは紛れもなく、今、自分はインターネットの向こう側にあるサーバーの中にいる、という証です。

## サーバーの中で深呼吸

試しに `ls` というコマンドを打ってみます。ファイルやディレクトリの一覧が表示される、基本のコマンドです。ちゃんと反応が返ってきました。
次に `pwd` 。今いる場所のパスが表示されます。`/home/ec2-user` と出ました。

すごい。本当にサーバーを操作している。

ただコマンドを打っているだけなのに、、不思議な高揚感がありました。

## まとめ：黒い画面の向こう側へ

今回、私がやったのは、ただサーバーにログインしただけです。でも、エラーと格闘し、それを乗り越えて自分の手でサーバーの扉を開けた経験は、何物にも代えがたいものでした。

黒い画面は、決してハッカーだけの特別な場所ではありません。その向こうには、自分で自由に構築できる、広大な世界が広がります。

